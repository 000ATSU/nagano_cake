<h1>配送先登録/一覧</h1>
<%= form_with model: @address, url: '/public/addresses' do |f| %>
  <div>
    <label>郵便番号（ハイフンなし）</label>
    <%= f.text_field :postal_code %>
  </div>

  <div>
    <label>住所</label>
    <%= f.text_field :address %>
  </div>

  <div>
    <%= f.hidden_field :customer_id, :value => current_customer.id %>
  </div>

  <div>
    <label>宛名</label>
    <%= f.text_field :name %>
  </div>

  <div>
    <%= f.submit '新規登録' %>
  </div>
<% end %>

<table>
  <thead>
    <tr>
      <th>郵便番号</th>
      <th>住所</th>
      <th></th>
      <th>宛名</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <% @addresses.each do |address| %>
        <td><%= address.postal_code %></td>
        <td><%= address.address %></td>
        <td><%= address.name %></td>
        <td>
          <%= link_to "編集する", edit_public_address_path(address.id) %>
          <%= link_to "削除する", "/public/addresses/#{address.id}", method: :delete %>
        </td>
      <% end %>
    </tr>
  </tbody>
</table>